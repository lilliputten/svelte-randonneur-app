import{s as A,A as re,l as G,m as L,i as D,O as N,d as u,f as v,g as b,h as $,j as S,K as k,U as oe,a as B,e as z,c as K,D as M,Y as W,n as le,W as ce,L as de,o as fe}from"../chunks/scheduler.rsKKbDYC.js";import{S as P,i as R,b as E,d as C,m as w,a as p,t as _,e as V,g as j,c as q}from"../chunks/index.DzfArh8w.js";import{w as ue}from"../chunks/index.0WC7A3s9.js";import{B as me,a as F,b as he,c as pe,d as ge,g as _e}from"../chunks/navigation.1VHlQ4Z7.js";import{h as Y,a as Se}from"../chunks/hasDataStore.ZuuwiclO.js";import{l as H,m as J}from"../chunks/index.AOCYmvTY.js";import"../chunks/build.r18gxpIh.js";import{u as Q,G as ie,e as ve}from"../chunks/EditableList.C0-zg8Ia.js";function O(a,e=0,s="",t={}){const{id:n,type:i}=a,r=[s,n].filter(Boolean).join(".");if(!a.label&&!t.dontAddLabels&&(a.label=a.title||Q(n)),!a.title&&!t.dontAddTitles&&(a.title=a.label||Q(n)),a._fullId=r,a._level=e,i==="object"&&a.spec&&a.spec.forEach(d=>{O(d,e+1,r)}),i==="list"&&a.spec){const d=a.spec;a.layout="table",a.flatObjects=!0,a.editInPlace=!1,a.useActionsColumn=!0,a.activeRows=!0,O(d,e+1,r,{dontAddLabels:!0})}}const be={id:"properties",type:"object",spec:[{id:"name",type:"string"},{id:"licenses",type:"list",spec:{id:"licenses-item",type:"object",spec:[{id:"name",type:"string"},{id:"path",type:"string"},{id:"title",type:"string"}]}},{id:"version",type:"string"},{id:"description",type:"string"},{id:"homepage",type:"string"},{id:"created",type:"string"},{id:"contributors",type:"list",spec:{id:"contributors-item",type:"object",spec:[{id:"title",type:"string"},{id:"path",type:"string"},{id:"role",type:"string"}]}}]},ae={properties:"Properties","create-datasets":"Create datasets",delete:"Delete",disaggregate:"Disaggregate",mapping:"Mapping",replace:"Replace",update:"Update"},$e="_Section_90tcw_11",X={Section:$e};function Ie(a){let e;return{c(){e=G(a[4])},l(s){e=L(s,a[4])},m(s,t){D(s,e,t)},p:N,d(s){s&&u(e)}}}function ke(a){let e,s;return e=new me({props:{class:H(a[0],X.Section),id:a[2],title:a[4],variant:a[1]?"filled":"light",fullSize:!0,$$slots:{default:[Ie]},$$scope:{ctx:a}}}),e.$on("click",function(){re(a[3].bind(null,a[2]))&&a[3].bind(null,a[2]).apply(this,arguments)}),{c(){E(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){w(e,t,n),s=!0},p(t,[n]){a=t;const i={};n&1&&(i.class=H(a[0],X.Section)),n&4&&(i.id=a[2]),n&2&&(i.variant=a[1]?"filled":"light"),n&32&&(i.$$scope={dirty:n,ctx:a}),e.$set(i)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function De(a,e,s){let{className:t=""}=e,{isActive:n=!1}=e,{sectionId:i}=e,{onChangeSection:r}=e;const d=ae[i];return a.$$set=o=>{"className"in o&&s(0,t=o.className),"isActive"in o&&s(1,n=o.isActive),"sectionId"in o&&s(2,i=o.sectionId),"onChangeSection"in o&&s(3,r=o.onChangeSection)},[t,n,i,r,d]}class ye extends P{constructor(e){super(),R(this,e,De,ke,A,{className:0,isActive:1,sectionId:2,onChangeSection:3})}}function Z(a,e,s){const t=a.slice();return t[3]=e[s],t}function x(a){let e;return{c(){e=v("div"),this.h()},l(s){e=b(s,"DIV",{class:!0}),$(e).forEach(u),this.h()},h(){S(e,"class","delimiter section svelte-mxcnik")},m(s,t){D(s,e,t)},d(s){s&&u(e)}}}function ee(a){let e,s,t,n;e=new ye({props:{sectionId:a[3],isActive:a[3]===a[1],onChangeSection:a[2]}});let i=a[3]==="properties"&&x();return{c(){E(e.$$.fragment),s=B(),i&&i.c(),t=z()},l(r){C(e.$$.fragment,r),s=K(r),i&&i.l(r),t=z()},m(r,d){w(e,r,d),D(r,s,d),i&&i.m(r,d),D(r,t,d),n=!0},p(r,d){const o={};d&1&&(o.sectionId=r[3]),d&3&&(o.isActive=r[3]===r[1]),d&4&&(o.onChangeSection=r[2]),e.$set(o),r[3]==="properties"?i||(i=x(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i(r){n||(p(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){r&&(u(s),u(t)),V(e,r),i&&i.d(r)}}}function Ee(a){let e,s,t,n,i=J(a[0]),r=[];for(let o=0;o<i.length;o+=1)r[o]=ee(Z(a,i,o));const d=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){e=v("div"),s=v("div"),t=v("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=b(o,"DIV",{class:!0});var l=$(e);s=b(l,"DIV",{class:!0});var c=$(s);t=b(c,"DIV",{class:!0});var g=$(t);for(let f=0;f<r.length;f+=1)r[f].l(g);g.forEach(u),c.forEach(u),l.forEach(u),this.h()},h(){S(t,"class","content svelte-mxcnik"),S(s,"class","container scrollable svelte-mxcnik"),S(e,"class","SectionsNavigator svelte-mxcnik")},m(o,l){D(o,e,l),k(e,s),k(s,t);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(t,null);n=!0},p(o,[l]){if(l&7){i=J(o[0]);let c;for(c=0;c<i.length;c+=1){const g=Z(o,i,c);r[c]?(r[c].p(g,l),p(r[c],1)):(r[c]=ee(g),r[c].c(),p(r[c],1),r[c].m(t,null))}for(j(),c=i.length;c<r.length;c+=1)d(c);q()}},i(o){if(!n){for(let l=0;l<i.length;l+=1)p(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){o&&u(e),oe(r,o)}}}function Ce(a,e,s){let{allSections:t}=e,{sectionId:n}=e,{onChangeSection:i}=e;return a.$$set=r=>{"allSections"in r&&s(0,t=r.allSections),"sectionId"in r&&s(1,n=r.sectionId),"onChangeSection"in r&&s(2,i=r.onChangeSection)},[t,n,i]}class we extends P{constructor(e){super(),R(this,e,Ce,Ee,A,{allSections:0,sectionId:1,onChangeSection:2})}}function Ve(a){let e,s,t;return s=new ie({props:{spec:a[1],data:a[0],onChange:a[2]}}),{c(){e=v("div"),E(s.$$.fragment),this.h()},l(n){e=b(n,"DIV",{class:!0});var i=$(e);C(s.$$.fragment,i),i.forEach(u),this.h()},h(){S(e,"class","EditProperties svelte-qhxnxq")},m(n,i){D(n,e,i),w(s,e,null),t=!0},p(n,[i]){const r={};i&1&&(r.data=n[0]),s.$set(r)},i(n){t||(p(s.$$.fragment,n),t=!0)},o(n){_(s.$$.fragment,n),t=!1},d(n){n&&u(e),V(s)}}}function Ae(a,e,s){let t;M(a,F,r=>s(0,t=r));const n={...be};O(n);function i(r,d){F.set(r)}return[t,n,i]}class Pe extends P{constructor(e){super(),R(this,e,Ae,Ve,A,{})}}function te(a){let e=a[0],s,t,n=ne(a);return{c(){n.c(),s=z()},l(i){n.l(i),s=z()},m(i,r){n.m(i,r),D(i,s,r),t=!0},p(i,r){r&1&&A(e,e=i[0])?(j(),_(n,1,1,N),q(),n=ne(i),n.c(),p(n,1),n.m(s.parentNode,s)):n.p(i,r)},i(i){t||(p(n),t=!0)},o(i){_(n),t=!1},d(i){i&&u(s),n.d(i)}}}function ne(a){let e,s;return e=new ie({props:{spec:a[3],data:a[5],onChange:a[6]}}),{c(){E(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){w(e,t,n),s=!0},p(t,n){const i={};n&8&&(i.spec=t[3]),n&32&&(i.data=t[5]),e.$set(i)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function Re(a){let e,s,t=a[1]&&te(a);return{c(){e=v("div"),t&&t.c(),this.h()},l(n){e=b(n,"DIV",{class:!0,"data-set-id":!0});var i=$(e);t&&t.l(i),i.forEach(u),this.h()},h(){S(e,"class","EditDataSet svelte-ki2c8t"),S(e,"data-set-id",a[0])},m(n,i){D(n,e,i),t&&t.m(e,null),s=!0},p(n,[i]){n[1]?t?(t.p(n,i),i&2&&p(t,1)):(t=te(n),t.c(),p(t,1),t.m(e,null)):t&&(j(),_(t,1,1,()=>{t=null}),q()),(!s||i&1)&&S(e,"data-set-id",n[0])},i(n){s||(p(t),s=!0)},o(n){_(t),s=!1},d(n){n&&u(e),t&&t.d()}}}function Ne(a,e,s){let t,n,i,r,d=N,o=()=>(d(),d=W(t,h=>s(1,r=h)),t),l,c=N,g=()=>(c(),c=W(n,h=>s(5,l=h)),n);a.$$.on_destroy.push(()=>d()),a.$$.on_destroy.push(()=>c());let{dataSetId:f}=e;function y(h){const I={...h};return ve(I),I}function m(h,I){n.set(h)}return a.$$set=h=>{"dataSetId"in h&&s(0,f=h.dataSetId)},a.$$.update=()=>{a.$$.dirty&1&&o(s(4,t=he[f])),a.$$.dirty&1&&g(s(2,n=pe[f])),a.$$.dirty&2&&s(3,i=y(r))},[f,r,n,i,t,l,m]}class ze extends P{constructor(e){super(),R(this,e,Ne,Re,A,{dataSetId:0})}}function je(a){let e,s;return e=new ze({props:{dataSetId:a[0]}}),{c(){E(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){w(e,t,n),s=!0},p(t,n){const i={};n&1&&(i.dataSetId=t[0]),e.$set(i)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function qe(a){let e,s;return e=new Pe({}),{c(){E(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){w(e,t,n),s=!0},p:N,i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function Be(a){let e,s,t,n,i,r,d,o,l,c;const g=[qe,je],f=[];function y(m,h){return m[0]==="properties"?0:1}return o=y(a),l=f[o]=g[o](a),{c(){e=v("div"),s=v("div"),t=G("Edit: "),n=G(a[1]),i=B(),r=v("div"),d=v("div"),l.c(),this.h()},l(m){e=b(m,"DIV",{class:!0});var h=$(e);s=b(h,"DIV",{class:!0});var I=$(s);t=L(I,"Edit: "),n=L(I,a[1]),I.forEach(u),i=K(h),r=b(h,"DIV",{class:!0});var T=$(r);d=b(T,"DIV",{class:!0});var U=$(d);l.l(U),U.forEach(u),T.forEach(u),h.forEach(u),this.h()},h(){S(s,"class","header svelte-1ezwh2y"),S(d,"class","content"),S(r,"class","container scrollable svelte-1ezwh2y"),S(e,"class","DataEditorWrapper svelte-1ezwh2y")},m(m,h){D(m,e,h),k(e,s),k(s,t),k(s,n),k(e,i),k(e,r),k(r,d),f[o].m(d,null),c=!0},p(m,[h]){(!c||h&2)&&le(n,m[1]);let I=o;o=y(m),o===I?f[o].p(m,h):(j(),_(f[I],1,1,()=>{f[I]=null}),q(),l=f[o],l?l.p(m,h):(l=f[o]=g[o](m),l.c()),p(l,1),l.m(d,null))},i(m){c||(p(l),c=!0)},o(m){_(l),c=!1},d(m){m&&u(e),f[o].d()}}}function Ke(a,e,s){let t,{sectionId:n}=e;return a.$$set=i=>{"sectionId"in i&&s(0,n=i.sectionId)},a.$$.update=()=>{a.$$.dirty&1&&s(1,t=ae[n])},[n,t]}class Ge extends P{constructor(e){super(),R(this,e,Ke,Be,A,{sectionId:0})}}function se(a){let e,s,t,n,i,r,d,o;return n=new we({props:{allSections:a[2],sectionId:a[1],onChangeSection:a[4]}}),d=new Ge({props:{sectionId:a[1]}}),{c(){e=v("div"),s=v("div"),t=v("div"),E(n.$$.fragment),i=B(),r=v("div"),E(d.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var c=$(e);s=b(c,"DIV",{class:!0});var g=$(s);t=b(g,"DIV",{class:!0});var f=$(t);C(n.$$.fragment,f),f.forEach(u),i=K(g),r=b(g,"DIV",{class:!0});var y=$(r);C(d.$$.fragment,y),y.forEach(u),g.forEach(u),c.forEach(u),this.h()},h(){S(t,"class","column sideColumn leftColumn svelte-1xozqvn"),S(r,"class","column mainColumn svelte-1xozqvn"),S(s,"class","layout svelte-1xozqvn"),S(e,"class","RandoPage svelte-1xozqvn")},m(l,c){D(l,e,c),k(e,s),k(s,t),w(n,t,null),k(s,i),k(s,r),w(d,r,null),o=!0},p(l,c){const g={};c&2&&(g.sectionId=l[1]),n.$set(g);const f={};c&2&&(f.sectionId=l[1]),d.$set(f)},i(l){o||(p(n.$$.fragment,l),p(d.$$.fragment,l),o=!0)},o(l){_(n.$$.fragment,l),_(d.$$.fragment,l),o=!1},d(l){l&&u(e),V(n),V(d)}}}function Le(a){let e,s,t,n=a[0]&&se(a);return{c(){e=B(),n&&n.c(),s=z(),this.h()},l(i){ce("svelte-oi6135",document.head).forEach(u),e=K(i),n&&n.l(i),s=z(),this.h()},h(){document.title="Edit data"},m(i,r){D(i,e,r),n&&n.m(i,r),D(i,s,r),t=!0},p(i,[r]){i[0]?n?(n.p(i,r),r&1&&p(n,1)):(n=se(i),n.c(),p(n,1),n.m(s.parentNode,s)):n&&(j(),_(n,1,1,()=>{n=null}),q())},i(i){t||(p(n),t=!0)},o(i){_(n),t=!1},d(i){i&&(u(e),u(s)),n&&n.d(i)}}}function Me(a,e,s){let t,n;M(a,Y,m=>s(6,t=m));let i=!1,r=!1;function d(m){if(!m&&!i){const h="Data has not been initialized. Going to the main page.",I=new Error(h);console.warn("[RandoPage:checkReadiness]",I.message),i=!0,Se({message:h,type:"error"}),_e("/",{replaceState:!0})}else s(0,r=!0)}const o=Y.subscribe(d);de(o),fe(()=>{d(t)});const c=["properties",...ge()],g=c[0],f=ue(g);M(a,f,m=>s(1,n=m));function y(m){f.set(m)}return[r,n,c,f,y]}class Oe extends P{constructor(e){super(),R(this,e,Me,Le,A,{})}}function Te(a){let e,s;return e=new Oe({}),{c(){E(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){w(e,t,n),s=!0},p:N,i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}class Ze extends P{constructor(e){super(),R(this,e,null,Te,A,{})}}export{Ze as component};
