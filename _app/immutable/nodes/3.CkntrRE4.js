import{s as A,A as re,l as W,m as G,i as D,O as N,d as u,f as v,g as b,h as $,j as S,K as k,U as oe,a as B,e as z,c as K,D as L,Y as U,n as le,W as ce,L as de,o as fe}from"../chunks/scheduler.rsKKbDYC.js";import{S as P,i as R,b as E,d as C,m as w,a as p,t as _,e as V,g as j,c as q}from"../chunks/index.DzfArh8w.js";import{w as ue}from"../chunks/index.0WC7A3s9.js";import{B as me,a as F,b as he,c as pe,d as ge,g as _e}from"../chunks/navigation.q-UHEmgA.js";import{h as Y,a as Se}from"../chunks/hasDataStore.ZuuwiclO.js";import{l as H,m as J}from"../chunks/FilterSelectInput.module.dqm10QW9.js";import{e as ve,a as be}from"../chunks/extendDataSetWithFilters.8EsWnems.js";import{u as Q,G as ae,e as $e}from"../chunks/EditableList.FCNj-gOG.js";function M(i,e=0,s="",t={}){const{id:n,type:a}=i,r=[s,n].filter(Boolean).join(".");if(!i.label&&!t.dontAddLabels&&(i.label=i.title||Q(n)),!i.title&&!t.dontAddTitles&&(i.title=i.label||Q(n)),i._fullId=r,i._level=e,a==="object"&&i.spec&&ve(i.spec).forEach(o=>{M(o,e+1,r)}),a==="list"&&i.spec){const d=i.spec;i.layout="table",i.flatObjects=!0,i.editInPlace=!1,i.useActionsColumn=!0,i.activeRows=!0,M(d,e+1,r,{dontAddLabels:!0})}}const Ie={id:"properties",type:"object",spec:[{id:"name",type:"string"},{id:"licenses",type:"list",spec:{id:"licenses-item",type:"object",spec:[{id:"name",type:"string"},{id:"path",type:"string"},{id:"title",type:"string"}]}},{id:"version",type:"string"},{id:"description",type:"string"},{id:"homepage",type:"string"},{id:"created",type:"string"},{id:"contributors",type:"list",spec:{id:"contributors-item",type:"object",spec:[{id:"title",type:"string"},{id:"path",type:"string"},{id:"role",type:"string"}]}}]},ie={properties:"Properties","create-datasets":"Create datasets",delete:"Delete",disaggregate:"Disaggregate",mapping:"Mapping",replace:"Replace",update:"Update"},ke="_Section_90tcw_11",X={Section:ke};function De(i){let e;return{c(){e=W(i[4])},l(s){e=G(s,i[4])},m(s,t){D(s,e,t)},p:N,d(s){s&&u(e)}}}function ye(i){let e,s;return e=new me({props:{class:H(i[0],X.Section),id:i[2],title:i[4],variant:i[1]?"filled":"light",fullSize:!0,$$slots:{default:[De]},$$scope:{ctx:i}}}),e.$on("click",function(){re(i[3].bind(null,i[2]))&&i[3].bind(null,i[2]).apply(this,arguments)}),{c(){E(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){w(e,t,n),s=!0},p(t,[n]){i=t;const a={};n&1&&(a.class=H(i[0],X.Section)),n&4&&(a.id=i[2]),n&2&&(a.variant=i[1]?"filled":"light"),n&32&&(a.$$scope={dirty:n,ctx:i}),e.$set(a)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function Ee(i,e,s){let{className:t=""}=e,{isActive:n=!1}=e,{sectionId:a}=e,{onChangeSection:r}=e;const d=ie[a];return i.$$set=o=>{"className"in o&&s(0,t=o.className),"isActive"in o&&s(1,n=o.isActive),"sectionId"in o&&s(2,a=o.sectionId),"onChangeSection"in o&&s(3,r=o.onChangeSection)},[t,n,a,r,d]}class Ce extends P{constructor(e){super(),R(this,e,Ee,ye,A,{className:0,isActive:1,sectionId:2,onChangeSection:3})}}function Z(i,e,s){const t=i.slice();return t[3]=e[s],t}function x(i){let e;return{c(){e=v("div"),this.h()},l(s){e=b(s,"DIV",{class:!0}),$(e).forEach(u),this.h()},h(){S(e,"class","delimiter section svelte-mxcnik")},m(s,t){D(s,e,t)},d(s){s&&u(e)}}}function ee(i){let e,s,t,n;e=new Ce({props:{sectionId:i[3],isActive:i[3]===i[1],onChangeSection:i[2]}});let a=i[3]==="properties"&&x();return{c(){E(e.$$.fragment),s=B(),a&&a.c(),t=z()},l(r){C(e.$$.fragment,r),s=K(r),a&&a.l(r),t=z()},m(r,d){w(e,r,d),D(r,s,d),a&&a.m(r,d),D(r,t,d),n=!0},p(r,d){const o={};d&1&&(o.sectionId=r[3]),d&3&&(o.isActive=r[3]===r[1]),d&4&&(o.onChangeSection=r[2]),e.$set(o),r[3]==="properties"?a||(a=x(),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i(r){n||(p(e.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),n=!1},d(r){r&&(u(s),u(t)),V(e,r),a&&a.d(r)}}}function we(i){let e,s,t,n,a=J(i[0]),r=[];for(let o=0;o<a.length;o+=1)r[o]=ee(Z(i,a,o));const d=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){e=v("div"),s=v("div"),t=v("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=b(o,"DIV",{class:!0});var l=$(e);s=b(l,"DIV",{class:!0});var c=$(s);t=b(c,"DIV",{class:!0});var g=$(t);for(let f=0;f<r.length;f+=1)r[f].l(g);g.forEach(u),c.forEach(u),l.forEach(u),this.h()},h(){S(t,"class","content svelte-mxcnik"),S(s,"class","container scrollable svelte-mxcnik"),S(e,"class","SectionsNavigator svelte-mxcnik")},m(o,l){D(o,e,l),k(e,s),k(s,t);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(t,null);n=!0},p(o,[l]){if(l&7){a=J(o[0]);let c;for(c=0;c<a.length;c+=1){const g=Z(o,a,c);r[c]?(r[c].p(g,l),p(r[c],1)):(r[c]=ee(g),r[c].c(),p(r[c],1),r[c].m(t,null))}for(j(),c=a.length;c<r.length;c+=1)d(c);q()}},i(o){if(!n){for(let l=0;l<a.length;l+=1)p(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){o&&u(e),oe(r,o)}}}function Ve(i,e,s){let{allSections:t}=e,{sectionId:n}=e,{onChangeSection:a}=e;return i.$$set=r=>{"allSections"in r&&s(0,t=r.allSections),"sectionId"in r&&s(1,n=r.sectionId),"onChangeSection"in r&&s(2,a=r.onChangeSection)},[t,n,a]}class Ae extends P{constructor(e){super(),R(this,e,Ve,we,A,{allSections:0,sectionId:1,onChangeSection:2})}}function Pe(i){let e,s,t;return s=new ae({props:{spec:i[1],data:i[0],onChange:i[2]}}),{c(){e=v("div"),E(s.$$.fragment),this.h()},l(n){e=b(n,"DIV",{class:!0});var a=$(e);C(s.$$.fragment,a),a.forEach(u),this.h()},h(){S(e,"class","EditProperties svelte-qhxnxq")},m(n,a){D(n,e,a),w(s,e,null),t=!0},p(n,[a]){const r={};a&1&&(r.data=n[0]),s.$set(r)},i(n){t||(p(s.$$.fragment,n),t=!0)},o(n){_(s.$$.fragment,n),t=!1},d(n){n&&u(e),V(s)}}}function Re(i,e,s){let t;L(i,F,r=>s(0,t=r));const n={...Ie};M(n),be(n);function a(r,d){F.set(r)}return[t,n,a]}class Ne extends P{constructor(e){super(),R(this,e,Re,Pe,A,{})}}function te(i){let e=i[0],s,t,n=ne(i);return{c(){n.c(),s=z()},l(a){n.l(a),s=z()},m(a,r){n.m(a,r),D(a,s,r),t=!0},p(a,r){r&1&&A(e,e=a[0])?(j(),_(n,1,1,N),q(),n=ne(a),n.c(),p(n,1),n.m(s.parentNode,s)):n.p(a,r)},i(a){t||(p(n),t=!0)},o(a){_(n),t=!1},d(a){a&&u(s),n.d(a)}}}function ne(i){let e,s;return e=new ae({props:{spec:i[3],data:i[5],onChange:i[6]}}),{c(){E(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){w(e,t,n),s=!0},p(t,n){const a={};n&8&&(a.spec=t[3]),n&32&&(a.data=t[5]),e.$set(a)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function ze(i){let e,s,t=i[1]&&te(i);return{c(){e=v("div"),t&&t.c(),this.h()},l(n){e=b(n,"DIV",{class:!0,"data-set-id":!0});var a=$(e);t&&t.l(a),a.forEach(u),this.h()},h(){S(e,"class","EditDataSet svelte-ki2c8t"),S(e,"data-set-id",i[0])},m(n,a){D(n,e,a),t&&t.m(e,null),s=!0},p(n,[a]){n[1]?t?(t.p(n,a),a&2&&p(t,1)):(t=te(n),t.c(),p(t,1),t.m(e,null)):t&&(j(),_(t,1,1,()=>{t=null}),q()),(!s||a&1)&&S(e,"data-set-id",n[0])},i(n){s||(p(t),s=!0)},o(n){_(t),s=!1},d(n){n&&u(e),t&&t.d()}}}function je(i,e,s){let t,n,a,r,d=N,o=()=>(d(),d=U(t,h=>s(1,r=h)),t),l,c=N,g=()=>(c(),c=U(n,h=>s(5,l=h)),n);i.$$.on_destroy.push(()=>d()),i.$$.on_destroy.push(()=>c());let{dataSetId:f}=e;function y(h){const I={...h};return $e(I),I}function m(h,I){n.set(h)}return i.$$set=h=>{"dataSetId"in h&&s(0,f=h.dataSetId)},i.$$.update=()=>{i.$$.dirty&1&&o(s(4,t=he[f])),i.$$.dirty&1&&g(s(2,n=pe[f])),i.$$.dirty&2&&s(3,a=y(r))},[f,r,n,a,t,l,m]}class qe extends P{constructor(e){super(),R(this,e,je,ze,A,{dataSetId:0})}}function Be(i){let e,s;return e=new qe({props:{dataSetId:i[0]}}),{c(){E(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){w(e,t,n),s=!0},p(t,n){const a={};n&1&&(a.dataSetId=t[0]),e.$set(a)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function Ke(i){let e,s;return e=new Ne({}),{c(){E(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){w(e,t,n),s=!0},p:N,i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function We(i){let e,s,t,n,a,r,d,o,l,c;const g=[Ke,Be],f=[];function y(m,h){return m[0]==="properties"?0:1}return o=y(i),l=f[o]=g[o](i),{c(){e=v("div"),s=v("div"),t=W("Edit: "),n=W(i[1]),a=B(),r=v("div"),d=v("div"),l.c(),this.h()},l(m){e=b(m,"DIV",{class:!0});var h=$(e);s=b(h,"DIV",{class:!0});var I=$(s);t=G(I,"Edit: "),n=G(I,i[1]),I.forEach(u),a=K(h),r=b(h,"DIV",{class:!0});var O=$(r);d=b(O,"DIV",{class:!0});var T=$(d);l.l(T),T.forEach(u),O.forEach(u),h.forEach(u),this.h()},h(){S(s,"class","header svelte-1ezwh2y"),S(d,"class","content"),S(r,"class","container scrollable svelte-1ezwh2y"),S(e,"class","DataEditorWrapper svelte-1ezwh2y")},m(m,h){D(m,e,h),k(e,s),k(s,t),k(s,n),k(e,a),k(e,r),k(r,d),f[o].m(d,null),c=!0},p(m,[h]){(!c||h&2)&&le(n,m[1]);let I=o;o=y(m),o===I?f[o].p(m,h):(j(),_(f[I],1,1,()=>{f[I]=null}),q(),l=f[o],l?l.p(m,h):(l=f[o]=g[o](m),l.c()),p(l,1),l.m(d,null))},i(m){c||(p(l),c=!0)},o(m){_(l),c=!1},d(m){m&&u(e),f[o].d()}}}function Ge(i,e,s){let t,{sectionId:n}=e;return i.$$set=a=>{"sectionId"in a&&s(0,n=a.sectionId)},i.$$.update=()=>{i.$$.dirty&1&&s(1,t=ie[n])},[n,t]}class Le extends P{constructor(e){super(),R(this,e,Ge,We,A,{sectionId:0})}}function se(i){let e,s,t,n,a,r,d,o;return n=new Ae({props:{allSections:i[2],sectionId:i[1],onChangeSection:i[4]}}),d=new Le({props:{sectionId:i[1]}}),{c(){e=v("div"),s=v("div"),t=v("div"),E(n.$$.fragment),a=B(),r=v("div"),E(d.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var c=$(e);s=b(c,"DIV",{class:!0});var g=$(s);t=b(g,"DIV",{class:!0});var f=$(t);C(n.$$.fragment,f),f.forEach(u),a=K(g),r=b(g,"DIV",{class:!0});var y=$(r);C(d.$$.fragment,y),y.forEach(u),g.forEach(u),c.forEach(u),this.h()},h(){S(t,"class","column sideColumn leftColumn svelte-1xozqvn"),S(r,"class","column mainColumn svelte-1xozqvn"),S(s,"class","layout svelte-1xozqvn"),S(e,"class","RandoPage svelte-1xozqvn")},m(l,c){D(l,e,c),k(e,s),k(s,t),w(n,t,null),k(s,a),k(s,r),w(d,r,null),o=!0},p(l,c){const g={};c&2&&(g.sectionId=l[1]),n.$set(g);const f={};c&2&&(f.sectionId=l[1]),d.$set(f)},i(l){o||(p(n.$$.fragment,l),p(d.$$.fragment,l),o=!0)},o(l){_(n.$$.fragment,l),_(d.$$.fragment,l),o=!1},d(l){l&&u(e),V(n),V(d)}}}function Me(i){let e,s,t,n=i[0]&&se(i);return{c(){e=B(),n&&n.c(),s=z(),this.h()},l(a){ce("svelte-oi6135",document.head).forEach(u),e=K(a),n&&n.l(a),s=z(),this.h()},h(){document.title="Edit data"},m(a,r){D(a,e,r),n&&n.m(a,r),D(a,s,r),t=!0},p(a,[r]){a[0]?n?(n.p(a,r),r&1&&p(n,1)):(n=se(a),n.c(),p(n,1),n.m(s.parentNode,s)):n&&(j(),_(n,1,1,()=>{n=null}),q())},i(a){t||(p(n),t=!0)},o(a){_(n),t=!1},d(a){a&&(u(e),u(s)),n&&n.d(a)}}}function Oe(i,e,s){let t,n;L(i,Y,m=>s(6,t=m));let a=!1,r=!1;function d(m){if(!m&&!a){const h="Data has not been initialized. Going to the main page.",I=new Error(h);console.warn("[RandoPage:checkReadiness]",I.message),a=!0,Se({message:h,type:"error"}),_e("/",{replaceState:!0})}else s(0,r=!0)}const o=Y.subscribe(d);de(o),fe(()=>{d(t)});const c=["properties",...ge()],g=c[0],f=ue(g);L(i,f,m=>s(1,n=m));function y(m){f.set(m)}return[r,n,c,f,y]}class Te extends P{constructor(e){super(),R(this,e,Oe,Me,A,{})}}function Ue(i){let e,s;return e=new Te({}),{c(){E(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){w(e,t,n),s=!0},p:N,i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}class et extends P{constructor(e){super(),R(this,e,null,Ue,A,{})}}export{et as component};
