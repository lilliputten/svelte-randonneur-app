import{s as j,u as ce,L as be,M as $e,h as R,d as h,j as w,S as we,i as N,K as F,N as T,C as De,G as je,f as k,g as y,D as ee,e as oe,p as Oe,I as Te,W as Ee,A as pe,a as te,c as ae,V as me,l as fe,m as ue,n as Ve,X as Le,Y as qe,U as ze,Z as Ue,o as We}from"../chunks/scheduler.jafUb2iH.js";import{S as q,i as z,b as C,d as A,m as M,a as m,t as D,e as O,g as J,c as Z,f as Be}from"../chunks/index.VIoRrsQt.js";import{c as Ie,d as Ge,r as Je,s as Ze,f as Ye,g as Ke,b as Xe}from"../chunks/navigation.dKWBjTE1.js";import{g as Qe,r as xe,s as Pe,q as ge,l as de,p as et,w as tt}from"../chunks/params.e5ZZ4J8A.js";import{a as at,b as _e,h as ke}from"../chunks/randoFileInfoStore.FdoIm7nv.js";import{S as rt,s as nt}from"../chunks/SectionsMenu.4QxtlEyW.js";import{w as st}from"../chunks/index.iWIm743a.js";import{e as it}from"../chunks/extendDataSetWithFilters.QmCBICxq.js";import{m as ye,G as ot,e as lt,p as ct,E as ft,P as ut,C as dt}from"../chunks/EditableList.Wn4aeMN4.js";function _t(n){let e,a,t=[{width:n[1]},{height:n[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},n[2]],r={};for(let s=0;s<t.length;s+=1)r=ce(r,t[s]);return{c(){e=be("svg"),a=be("path"),this.h()},l(s){e=$e(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var i=R(e);a=$e(i,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),R(a).forEach(h),i.forEach(h),this.h()},h(){w(a,"fill-rule","evenodd"),w(a,"clip-rule","evenodd"),w(a,"d","M7.50005 1.04999C7.74858 1.04999 7.95005 1.25146 7.95005 1.49999V8.41359L10.1819 6.18179C10.3576 6.00605 10.6425 6.00605 10.8182 6.18179C10.994 6.35753 10.994 6.64245 10.8182 6.81819L7.81825 9.81819C7.64251 9.99392 7.35759 9.99392 7.18185 9.81819L4.18185 6.81819C4.00611 6.64245 4.00611 6.35753 4.18185 6.18179C4.35759 6.00605 4.64251 6.00605 4.81825 6.18179L7.05005 8.41359V1.49999C7.05005 1.25146 7.25152 1.04999 7.50005 1.04999ZM2.5 10C2.77614 10 3 10.2239 3 10.5V12C3 12.5539 3.44565 13 3.99635 13H11.0012C11.5529 13 12 12.5528 12 12V10.5C12 10.2239 12.2239 10 12.5 10C12.7761 10 13 10.2239 13 10.5V12C13 13.1041 12.1062 14 11.0012 14H3.99635C2.89019 14 2 13.103 2 12V10.5C2 10.2239 2.22386 10 2.5 10Z"),w(a,"fill",n[0]),we(e,r)},m(s,i){N(s,e,i),F(e,a)},p(s,[i]){i&1&&w(a,"fill",s[0]),we(e,r=Qe(t,[i&2&&{width:s[1]},i&2&&{height:s[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i&4&&s[2]]))},i:T,o:T,d(s){s&&h(e)}}}function ht(n,e,a){const t=["color","size"];let r=De(e,t),{color:s="currentColor"}=e,{size:i=15}=e;return n.$$set=l=>{e=ce(ce({},e),je(l)),a(2,r=De(e,t)),"color"in l&&a(0,s=l.color),"size"in l&&a(1,i=l.size)},[s,i,r]}class pt extends q{constructor(e){super(),z(this,e,ht,_t,j,{color:0,size:1})}}const mt=pt;function he(n,e=0,a="",t={}){const{id:r,type:s}=n;if(!r||!s){const l=new Error("Malformed spec object: "+JSON.stringify(n));console.error("[extendDataSetSpec]",l.message,{error:l,spec:n,level:e,parentId:a,opts:t});debugger;throw l}const i=[a,r].filter(Boolean).join(".");if(e&&!n.label&&!t.dontAddLabels&&(n.label=n.title||ye(r)),!n.title&&!t.dontAddTitles&&(n.title=n.label||ye(r)),n._fullId=i,n._level=e,s==="object"&&n.spec&&(Array.isArray(n.spec)?n.spec:[n.spec]).forEach(o=>{he(o,e+1,i)}),s==="list"&&n.spec){const l=n.spec;l.type==="object"?(n.layout="table",n.flatObjects=!0,n.editInPlace=!1,n.useActionsColumn=!0,n.activeRows=!0,he(l,e+1,i,{dontAddLabels:!0})):n.layout="horizontal"}}function gt(n){let e,a,t,r,s;return r=new rt({}),{c(){e=k("div"),a=k("div"),t=k("div"),C(r.$$.fragment),this.h()},l(i){e=y(i,"DIV",{class:!0});var l=R(e);a=y(l,"DIV",{class:!0});var o=R(a);t=y(o,"DIV",{class:!0});var f=R(t);A(r.$$.fragment,f),f.forEach(h),o.forEach(h),l.forEach(h),this.h()},h(){w(t,"class","content"),w(a,"class","container scrollable svelte-182161y"),w(e,"class","SectionsNavigator svelte-182161y")},m(i,l){N(i,e,l),F(e,a),F(a,t),M(r,t,null),s=!0},p:T,i(i){s||(m(r.$$.fragment,i),s=!0)},o(i){D(r.$$.fragment,i),s=!1},d(i){i&&h(e),O(r)}}}class vt extends q{constructor(e){super(),z(this,e,null,gt,j,{})}}var He={exports:{}};(function(n){/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */var e=e||function(a){if(!(!a||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=a.document,r=function(){return a.URL||a.webkitURL||a},s=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in s,l=function(d){var p=new MouseEvent("click");d.dispatchEvent(p)},o=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),f=a.webkitRequestFileSystem,v=a.requestFileSystem||f||a.mozRequestFileSystem,b=function(d){(a.setImmediate||a.setTimeout)(function(){throw d},0)},S="application/octet-stream",u=0,c=1e3*40,_=function(d){var p=function(){typeof d=="string"?r().revokeObjectURL(d):d.remove()};setTimeout(p,c)},g=function(d,p,B){p=[].concat(p);for(var E=p.length;E--;){var K=d["on"+p[E]];if(typeof K=="function")try{K.call(d,B||d)}catch(se){b(se)}}},$=function(d){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d},V=function(d,p,B){B||(d=$(d));var E=this,K=d.type,se=!1,H,X,le=function(){g(E,"writestart progress write writeend".split(" "))},U=function(){if(X&&o&&typeof FileReader<"u"){var W=new FileReader;W.onloadend=function(){var re=W.result;X.location.href="data:attachment/file"+re.slice(re.search(/[,;]/)),E.readyState=E.DONE,le()},W.readAsDataURL(d),E.readyState=E.INIT;return}if((se||!H)&&(H=r().createObjectURL(d)),X)X.location.href=H;else{var ie=a.open(H,"_blank");ie===void 0&&o&&(a.location.href=H)}E.readyState=E.DONE,le(),_(H)},Q=function(W){return function(){if(E.readyState!==E.DONE)return W.apply(this,arguments)}},ve={create:!0,exclusive:!1},Se;if(E.readyState=E.INIT,p||(p="download"),i){H=r().createObjectURL(d),setTimeout(function(){s.href=H,s.download=p,l(s),le(),_(H),E.readyState=E.DONE});return}if(a.chrome&&K&&K!==S&&(Se=d.slice||d.webkitSlice,d=Se.call(d,0,d.size,S),se=!0),f&&p!=="download"&&(p+=".download"),(K===S||f)&&(X=a),!v){U();return}u+=d.size,v(a.TEMPORARY,u,Q(function(W){W.root.getDirectory("saved",ve,Q(function(ie){var re=function(){ie.getFile(p,ve,Q(function(L){L.createWriter(Q(function(x){x.onwriteend=function(G){X.location.href=L.toURL(),E.readyState=E.DONE,g(E,"writeend",G),_(L)},x.onerror=function(){var G=x.error;G.code!==G.ABORT_ERR&&U()},"writestart progress write abort".split(" ").forEach(function(G){x["on"+G]=E["on"+G]}),x.write(d),E.abort=function(){x.abort(),E.readyState=E.DONE},E.readyState=E.WRITING}),U)}),U)};ie.getFile(p,{create:!1},Q(function(L){L.remove(),re()}),Q(function(L){L.code===L.NOT_FOUND_ERR?re():U()}))}),U)}),U)},I=V.prototype,Y=function(d,p,B){return new V(d,p,B)};return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(d,p,B){return B||(d=$(d)),navigator.msSaveOrOpenBlob(d,p||"download")}:(I.abort=function(){var d=this;d.readyState=d.DONE,g(d,"abort")},I.readyState=I.INIT=0,I.WRITING=1,I.DONE=2,I.error=I.onwritestart=I.onprogress=I.onwrite=I.onabort=I.onerror=I.onwriteend=null,Y)}}(typeof self<"u"&&self||typeof window<"u"&&window||xe.content);n.exports&&(n.exports.saveAs=e)})(He);var St=He.exports;function bt(n){let e,a,t;return a=new ot({props:{spec:n[1],data:n[0],onChange:n[2]}}),{c(){e=k("div"),C(a.$$.fragment),this.h()},l(r){e=y(r,"DIV",{class:!0});var s=R(e);A(a.$$.fragment,s),s.forEach(h),this.h()},h(){w(e,"class","EditProperties svelte-qhxnxq")},m(r,s){N(r,e,s),M(a,e,null),t=!0},p(r,[s]){const i={};s&1&&(i.data=r[0]),a.$set(i)},i(r){t||(m(a.$$.fragment,r),t=!0)},o(r){D(a.$$.fragment,r),t=!1},d(r){r&&h(e),O(a)}}}function $t(n,e,a){let t;ee(n,Ie,i=>a(0,t=i));const r={...ct};lt(r),it(r);function s(i,l){Ie.set(i)}return[t,r,s]}class wt extends q{constructor(e){super(),z(this,e,$t,bt,j,{})}}function Re(n){let e=n[0],a,t,r=Fe(n);return{c(){r.c(),a=oe()},l(s){r.l(s),a=oe()},m(s,i){r.m(s,i),N(s,a,i),t=!0},p(s,i){i&1&&j(e,e=s[0])?(J(),D(r,1,1,T),Z(),r=Fe(s),r.c(),m(r,1),r.m(a.parentNode,a)):r.p(s,i)},i(s){t||(m(r),t=!0)},o(s){D(r),t=!1},d(s){s&&h(a),r.d(s)}}}function Fe(n){let e,a,t;function r(i){n[11](i)}let s={spec:n[6],data:n[5],onChange:n[8],setHasFilters:n[1]};return n[3]!==void 0&&(s.api=n[3]),e=new ft({props:s}),Oe.push(()=>Be(e,"api",r)),{c(){C(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,l){M(e,i,l),t=!0},p(i,l){const o={};l&64&&(o.spec=i[6]),l&32&&(o.data=i[5]),l&2&&(o.setHasFilters=i[1]),!a&&l&8&&(a=!0,o.api=i[3],Te(()=>a=!1)),e.$set(o)},i(i){t||(m(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function Dt(n){let e,a,t=n[2]&&Re(n);return{c(){e=k("div"),t&&t.c(),this.h()},l(r){e=y(r,"DIV",{class:!0,"data-set-id":!0});var s=R(e);t&&t.l(s),s.forEach(h),this.h()},h(){w(e,"class","EditDataSet svelte-ki2c8t"),w(e,"data-set-id",n[0])},m(r,s){N(r,e,s),t&&t.m(e,null),a=!0},p(r,[s]){r[2]?t?(t.p(r,s),s&4&&m(t,1)):(t=Re(r),t.c(),m(t,1),t.m(e,null)):t&&(J(),D(t,1,1,()=>{t=null}),Z()),(!a||s&1)&&w(e,"data-set-id",r[0])},i(r){a||(m(t),a=!0)},o(r){D(t),a=!1},d(r){r&&h(e),t&&t.d()}}}function Et(n,e,a){let t,r,s,i,l,o=T,f=()=>(o(),o=Ee(r,p=>a(10,l=p)),r),v,b=T,S=()=>(b(),b=Ee(t,p=>a(2,v=p)),t);n.$$.on_destroy.push(()=>o()),n.$$.on_destroy.push(()=>b());let{dataSetId:u}=e,{setHasFilters:c=void 0}=e;function _(p){const B={...p};return he(B),B}let g;function $(p,B){r.set(p)}function V(){g.resetFilters()}function I(){g.addDataRow()}const Y={resetFilters:V,addDataRow:I};function d(p){g=p,a(3,g)}return n.$$set=p=>{"dataSetId"in p&&a(0,u=p.dataSetId),"setHasFilters"in p&&a(1,c=p.setHasFilters)},n.$$.update=()=>{n.$$.dirty&1&&S(a(7,t=Ge[u])),n.$$.dirty&1&&f(a(4,r=Pe[u])),n.$$.dirty&4&&a(6,s=_(v)),n.$$.dirty&1024&&a(5,i=l)},[u,c,v,g,r,i,s,t,$,Y,l,d]}class It extends q{constructor(e){super(),z(this,e,Et,Dt,j,{dataSetId:0,setHasFilters:1,api:9})}get api(){return this.$$.ctx[9]}}const kt="_MiddleButton_12513_11",yt="_RightButton_12513_12",Rt="_Title_12513_13",Ft="_MiddleMenu_12513_14",Nt="_RightMenu_12513_15",Ct="_EditorHeader_12513_16",At="_text_12513_45",P={MiddleButton:kt,RightButton:yt,Title:Rt,MiddleMenu:Ft,RightMenu:Nt,EditorHeader:Ct,text:At};function Mt(n){let e;return{c(){e=fe(n[6])},l(a){e=ue(a,n[6])},m(a,t){N(a,e,t)},p(a,t){t&64&&Ve(e,a[6])},d(a){a&&h(e)}}}function Ot(n){let e,a,t;return{c(){e=fe("Data set: "),a=k("strong"),t=fe(n[6])},l(r){e=ue(r,"Data set: "),a=y(r,"STRONG",{});var s=R(a);t=ue(s,n[6]),s.forEach(h)},m(r,s){N(r,e,s),N(r,a,s),F(a,t)},p(r,s){s&64&&Ve(t,r[6])},d(r){r&&(h(e),h(a))}}}function Ne(n){let e,a;return e=new ge({props:{class:P.MiddleButton,color:"green",variant:"subtle",title:"Add dataset row",$$slots:{leftIcon:[Vt],default:[Tt]},$$scope:{ctx:n}}}),e.$on("click",function(){pe(n[5])&&n[5].apply(this,arguments)}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,r){M(e,t,r),a=!0},p(t,r){n=t;const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(t){a||(m(e.$$.fragment,t),a=!0)},o(t){D(e.$$.fragment,t),a=!1},d(t){O(e,t)}}}function Tt(n){let e,a="Add dataset row";return{c(){e=k("span"),e.textContent=a,this.h()},l(t){e=y(t,"SPAN",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-1sinwsh"&&(e.textContent=a),this.h()},h(){w(e,"class",P.text)},m(t,r){N(t,e,r)},p:T,d(t){t&&h(e)}}}function Vt(n){let e,a;return e=new ut({props:{slot:"leftIcon"}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,r){M(e,t,r),a=!0},p:T,i(t){a||(m(e.$$.fragment,t),a=!0)},o(t){D(e.$$.fragment,t),a=!1},d(t){O(e,t)}}}function Ce(n){let e,a;return e=new ge({props:{class:P.MiddleButton,color:"red",variant:"subtle",title:"Reset all filters",$$slots:{leftIcon:[Pt],default:[Bt]},$$scope:{ctx:n}}}),e.$on("click",function(){pe(n[4])&&n[4].apply(this,arguments)}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,r){M(e,t,r),a=!0},p(t,r){n=t;const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(t){a||(m(e.$$.fragment,t),a=!0)},o(t){D(e.$$.fragment,t),a=!1},d(t){O(e,t)}}}function Bt(n){let e,a="Reset all filters";return{c(){e=k("span"),e.textContent=a,this.h()},l(t){e=y(t,"SPAN",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-e7zu31"&&(e.textContent=a),this.h()},h(){w(e,"class",P.text)},m(t,r){N(t,e,r)},p:T,d(t){t&&h(e)}}}function Pt(n){let e,a;return e=new dt({props:{slot:"leftIcon"}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,r){M(e,t,r),a=!0},p:T,i(t){a||(m(e.$$.fragment,t),a=!0)},o(t){D(e.$$.fragment,t),a=!1},d(t){O(e,t)}}}function Ht(n){let e,a="Export data";return{c(){e=k("span"),e.textContent=a,this.h()},l(t){e=y(t,"SPAN",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-1wi0f3i"&&(e.textContent=a),this.h()},h(){w(e,"class",P.text)},m(t,r){N(t,e,r)},p:T,d(t){t&&h(e)}}}function jt(n){let e,a;return e=new mt({props:{slot:"leftIcon"}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,r){M(e,t,r),a=!0},p:T,i(t){a||(m(e.$$.fragment,t),a=!0)},o(t){D(e.$$.fragment,t),a=!1},d(t){O(e,t)}}}function Lt(n){let e,a,t,r,s,i,l,o,f,v;function b(g,$){return g[7]?Ot:Mt}let S=b(n),u=S(n),c=n[7]&&Ne(n),_=n[7]&&n[2]&&Ce(n);return o=new ge({props:{class:P.RightButton,variant:"subtle",title:"Export data",$$slots:{leftIcon:[jt],default:[Ht]},$$scope:{ctx:n}}}),o.$on("click",function(){pe(n[3])&&n[3].apply(this,arguments)}),{c(){e=k("div"),a=k("div"),u.c(),t=te(),r=k("div"),c&&c.c(),s=te(),_&&_.c(),i=te(),l=k("div"),C(o.$$.fragment),this.h()},l(g){e=y(g,"DIV",{class:!0,"data-section-id":!0});var $=R(e);a=y($,"DIV",{class:!0});var V=R(a);u.l(V),V.forEach(h),t=ae($),r=y($,"DIV",{class:!0});var I=R(r);c&&c.l(I),s=ae(I),_&&_.l(I),I.forEach(h),i=ae($),l=y($,"DIV",{class:!0});var Y=R(l);A(o.$$.fragment,Y),Y.forEach(h),$.forEach(h),this.h()},h(){w(a,"class",P.Title),w(r,"class",P.MiddleMenu),w(l,"class",P.RightMenu),w(e,"class",f=de(n[1],P.EditorHeader)),w(e,"data-section-id",n[0])},m(g,$){N(g,e,$),F(e,a),u.m(a,null),F(e,t),F(e,r),c&&c.m(r,null),F(r,s),_&&_.m(r,null),F(e,i),F(e,l),M(o,l,null),v=!0},p(g,[$]){n=g,S===(S=b(n))&&u?u.p(n,$):(u.d(1),u=S(n),u&&(u.c(),u.m(a,null))),n[7]?c?(c.p(n,$),$&128&&m(c,1)):(c=Ne(n),c.c(),m(c,1),c.m(r,s)):c&&(J(),D(c,1,1,()=>{c=null}),Z()),n[7]&&n[2]?_?(_.p(n,$),$&132&&m(_,1)):(_=Ce(n),_.c(),m(_,1),_.m(r,null)):_&&(J(),D(_,1,1,()=>{_=null}),Z());const V={};$&512&&(V.$$scope={dirty:$,ctx:n}),o.$set(V),(!v||$&2&&f!==(f=de(n[1],P.EditorHeader)))&&w(e,"class",f),(!v||$&1)&&w(e,"data-section-id",n[0])},i(g){v||(m(c),m(_),m(o.$$.fragment,g),v=!0)},o(g){D(c),D(_),D(o.$$.fragment,g),v=!1},d(g){g&&h(e),u.d(),c&&c.d(),_&&_.d(),O(o)}}}function qt(n,e,a){let t,r,s,{sectionId:i}=e,{className:l=""}=e,{hasFilters:o=!1}=e,{handleExportData:f}=e,{handleResetAllFilters:v=void 0}=e,{handleAddNewDataSetRow:b=void 0}=e;return n.$$set=S=>{"sectionId"in S&&a(0,i=S.sectionId),"className"in S&&a(1,l=S.className),"hasFilters"in S&&a(2,o=S.hasFilters),"handleExportData"in S&&a(3,f=S.handleExportData),"handleResetAllFilters"in S&&a(4,v=S.handleResetAllFilters),"handleAddNewDataSetRow"in S&&a(5,b=S.handleAddNewDataSetRow)},n.$$.update=()=>{n.$$.dirty&1&&a(8,t=i==="properties"),n.$$.dirty&256&&a(7,r=!t),n.$$.dirty&1&&a(6,s=nt[i])},[i,l,o,f,v,b,s,r,t]}class zt extends q{constructor(e){super(),z(this,e,qt,Lt,j,{sectionId:0,className:1,hasFilters:2,handleExportData:3,handleResetAllFilters:4,handleAddNewDataSetRow:5})}}const Ut="_DataEditorWrapper_ibwgs_11",Wt="_header_ibwgs_18",Gt="_container_ibwgs_23",Jt="_scrollable_ibwgs_27",Zt="_content_ibwgs_30",ne={DataEditorWrapper:Ut,header:Wt,container:Gt,scrollable:Jt,content:Zt};function Yt(n){let e,a,t;function r(i){n[8](i)}let s={dataSetId:n[0],setHasFilters:n[5]};return n[1]!==void 0&&(s.api=n[1]),e=new It({props:s}),Oe.push(()=>Be(e,"api",r)),{c(){C(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,l){M(e,i,l),t=!0},p(i,l){const o={};l&1&&(o.dataSetId=i[0]),!a&&l&2&&(a=!0,o.api=i[1],Te(()=>a=!1)),e.$set(o)},i(i){t||(m(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function Kt(n){let e,a;return e=new wt({}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,r){M(e,t,r),a=!0},p:T,i(t){a||(m(e.$$.fragment,t),a=!0)},o(t){D(e.$$.fragment,t),a=!1},d(t){O(e,t)}}}function Xt(n){let e,a,t,r,s,i,l,o,f;a=new zt({props:{className:ne.header,sectionId:n[0],hasFilters:n[2],handleExportData:n[3],handleResetAllFilters:n[7],handleAddNewDataSetRow:n[6]}});const v=[Kt,Yt],b=[];function S(u,c){return c&1&&(i=null),u[0]==="properties"?0:(i==null&&(i=!!(u[0]&&Le(Pe[u[0]]))),i?1:-1)}return~(l=S(n,-1))&&(o=b[l]=v[l](n)),{c(){e=k("div"),C(a.$$.fragment),t=te(),r=k("div"),s=k("div"),o&&o.c(),this.h()},l(u){e=y(u,"DIV",{class:!0});var c=R(e);A(a.$$.fragment,c),t=ae(c),r=y(c,"DIV",{class:!0});var _=R(r);s=y(_,"DIV",{class:!0});var g=R(s);o&&o.l(g),g.forEach(h),_.forEach(h),c.forEach(h),this.h()},h(){w(s,"class",ne.content),w(r,"class",de(ne.container,ne.scrollable)),w(e,"class",ne.DataEditorWrapper)},m(u,c){N(u,e,c),M(a,e,null),F(e,t),F(e,r),F(r,s),~l&&b[l].m(s,null),f=!0},p(u,[c]){const _={};c&1&&(_.sectionId=u[0]),c&4&&(_.hasFilters=u[2]),a.$set(_);let g=l;l=S(u,c),l===g?~l&&b[l].p(u,c):(o&&(J(),D(b[g],1,1,()=>{b[g]=null}),Z()),~l?(o=b[l],o?o.p(u,c):(o=b[l]=v[l](u),o.c()),m(o,1),o.m(s,null)):o=null)},i(u){f||(m(a.$$.fragment,u),m(o),f=!0)},o(u){D(a.$$.fragment,u),D(o),f=!1},d(u){u&&h(e),O(a),~l&&b[l].d()}}}function Qt(n,e,a){let t,r,s;ee(n,at,c=>a(9,r=c)),ee(n,Je,c=>a(10,s=c));let{sectionId:i}=e;function l(){Ze(),Ye();const c=s,_=JSON.stringify(c,null,2),g=new Blob([_],{type:"application/json"});let $=r?.name||"exported-data.json";$=$.replace(/(\.json$|$)/i,"-exported.json");try{St.saveAs(g,$)}catch(V){const I=Ke(V);console.error("[DataEditorWrapper:handleExportData]",I,{error:V,data:c,dataJson:_,dataBlob:g,filename:$});debugger;_e({message:"Cannot export data: "+I,type:"error"})}finally{_e({message:"Data file has successfully exported",type:"success"})}}let o;const f=st(!1);ee(n,f,c=>a(2,t=c));function v(c){qe(f,t=c,t)}function b(){o.addDataRow()}function S(){o.resetFilters()}function u(c){o=c,a(1,o)}return n.$$set=c=>{"sectionId"in c&&a(0,i=c.sectionId)},[i,o,t,l,f,v,b,S,u]}class xt extends q{constructor(e){super(),z(this,e,Qt,Xt,j,{sectionId:0})}}function Ae(n){let e,a,t,r,s,i,l;r=new vt({});let o=n[1]&&Me(n);return{c(){e=k("div"),a=k("div"),t=k("div"),C(r.$$.fragment),s=te(),i=k("div"),o&&o.c(),this.h()},l(f){e=y(f,"DIV",{class:!0});var v=R(e);a=y(v,"DIV",{class:!0});var b=R(a);t=y(b,"DIV",{class:!0});var S=R(t);A(r.$$.fragment,S),S.forEach(h),s=ae(b),i=y(b,"DIV",{class:!0});var u=R(i);o&&o.l(u),u.forEach(h),b.forEach(h),v.forEach(h),this.h()},h(){w(t,"class","column sideColumn leftColumn svelte-nbyqth"),w(i,"class","column mainColumn svelte-nbyqth"),w(a,"class","layout svelte-nbyqth"),w(e,"class","RandoPage svelte-nbyqth")},m(f,v){N(f,e,v),F(e,a),F(a,t),M(r,t,null),F(a,s),F(a,i),o&&o.m(i,null),l=!0},p(f,v){f[1]?o?(o.p(f,v),v&2&&m(o,1)):(o=Me(f),o.c(),m(o,1),o.m(i,null)):o&&(J(),D(o,1,1,()=>{o=null}),Z())},i(f){l||(m(r.$$.fragment,f),m(o),l=!0)},o(f){D(r.$$.fragment,f),D(o),l=!1},d(f){f&&h(e),O(r),o&&o.d()}}}function Me(n){let e,a;return e=new xt({props:{sectionId:n[1]}}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,r){M(e,t,r),a=!0},p(t,r){const s={};r&2&&(s.sectionId=t[1]),e.$set(s)},i(t){a||(m(e.$$.fragment,t),a=!0)},o(t){D(e.$$.fragment,t),a=!1},d(t){O(e,t)}}}function ea(n){let e,a,t;document.title="Data browser — "+et;let r=n[0]&&Ae(n);return{c(){e=te(),r&&r.c(),a=oe()},l(s){ze("svelte-1yohsf0",document.head).forEach(h),e=ae(s),r&&r.l(s),a=oe()},m(s,i){N(s,e,i),r&&r.m(s,i),N(s,a,i),t=!0},p(s,[i]){s[0]?r?(r.p(s,i),i&1&&m(r,1)):(r=Ae(s),r.c(),m(r,1),r.m(a.parentNode,a)):r&&(J(),D(r,1,1,()=>{r=null}),Z())},i(s){t||(m(r),t=!0)},o(s){D(r),t=!1},d(s){s&&(h(e),h(a)),r&&r.d(s)}}}function ta(n,e,a){let t,r;ee(n,ke,f=>a(3,t=f)),ee(n,tt,f=>a(1,r=f));let s=!1,i=!1;function l(f){if(!f&&!s){const v="Data has not been initialized. Going to the main page.",b=new Error(v);console.warn("[RandoPage:checkReadiness]",b.message),s=!0,_e({message:v,type:"error"}),Xe("/",{replaceState:!0})}else a(0,i=!0)}const o=ke.subscribe(l);return Ue(o),We(()=>{l(t)}),[i,r]}class aa extends q{constructor(e){super(),z(this,e,ta,ea,j,{})}}function ra(n){let e,a;return e=new aa({}),{c(){C(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,r){M(e,t,r),a=!0},p:T,i(t){a||(m(e.$$.fragment,t),a=!0)},o(t){D(e.$$.fragment,t),a=!1},d(t){O(e,t)}}}class _a extends q{constructor(e){super(),z(this,e,null,ra,j,{})}}export{_a as component};
